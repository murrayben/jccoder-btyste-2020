<a href="#" class="mr-3">
    <img class="img-circle media-object" src="#">
</a>
<div class="media-body">
    <h2 class="media-heading">{{ post.title }}{% if not post.published %} (Draft){% endif %}</h2>
    By <a href="#">{{ post.author.username }}</a>
    <br />
    <span class="far fa-clock"></span> {{ moment(post.date_posted).format('MMMM Do YYYY, h:mm:ss a') }}
    <br />
    {% if show_body_html %}
    <div>{{ post.body_html|safe }}</div>
    {% else %}
    <div>{{ post.summary_html|safe }}</div>
    {% endif %}
    {% if not no_read_more %}
    <a class="btn btn-info" href="{{ url_for('teacher_blog.permalink', id=post.id) }}">Read more &raquo;</a>
    {% endif %}
    <hr />
    <div class="post-controls float-sm-right">
        {% if current_user.username == post.author.username or current_user.is_admin() %}
        <a class="edit-btn" href="{{ url_for('teacher_blog.edit', id=post.id) }}"><span class="badge badge-primary">Edit</span></a>
        {% if post.published %}
        <a href="{{ url_for('teacher_blog.draft', id=post.id) }}"><span class="badge badge-danger">Make Draft</span></a>
        {% else %}
        <a href="{{ url_for('teacher_blog.public', id=post.id) }}"><span class="badge badge-success">Make Public</span></a>
        {% endif %}
        {% endif %}
    </div>
    <p>Categories:
        {% if post.categories|length > 0 %}
            {% for category in post.categories %}
                {# The last category should not have a comma after it. #}
                <a href="{{ url_for('teacher_blog.category', id=category.id) }}">{{ category.name }}</a>{% if not category.id == post.categories[-1].id %},{% endif %}
            {% endfor %}
        {% else %}
        No categories!
        {% endif %}
    </p>
</div>